# ğŸš€ PWA Starter Template

[![Deploy with Vercel](https://vercel.com/button)](https://vercel.com/new/clone?repository-url=https://github.com/lrdspc/pwa-starter-template)

Template completo e moderno para criar Progressive Web Apps (PWA) com:

- âš¡ **Vite + React + TypeScript** - Desenvolvimento rÃ¡pido e tipado
- ğŸ” **Supabase** - AutenticaÃ§Ã£o, Database, Storage e Realtime
- ğŸ“± **PWA** - InstalÃ¡vel, offline-first com service worker
- ğŸš€ **Vercel** - Deploy automÃ¡tico (sem GitHub Actions)
- ğŸ¨ **Tailwind CSS** - EstilizaÃ§Ã£o moderna
- ğŸ”’ **Protected Routes** - Rotas protegidas por autenticaÃ§Ã£o

## ğŸ“‹ PrÃ©-requisitos

- Node.js 18+ instalado
- Conta no [Supabase](https://supabase.com) (grÃ¡tis)
- Conta no [Vercel](https://vercel.com) (grÃ¡tis)
- Conta no GitHub

## ğŸ¯ Quick Start

### 1ï¸âƒ£ Clone o repositÃ³rio

```bash
git clone https://github.com/lrdspc/pwa-starter-template.git
cd pwa-starter-template
```

### 2ï¸âƒ£ Instale as dependÃªncias

```bash
npm install
```

### 3ï¸âƒ£ Configure o Supabase

1. Crie um projeto no [Supabase](https://supabase.com/dashboard)
2. VÃ¡ em **Settings > API**
3. Copie a `Project URL` e `anon/public key`
4. Crie o arquivo `.env.local`:

```bash
cp .env.example .env.local
```

5. Edite `.env.local` com suas credenciais:

```env
VITE_SUPABASE_URL=https://seu-projeto.supabase.co
VITE_SUPABASE_ANON_KEY=sua-chave-anon
```

### 4ï¸âƒ£ Configure o banco de dados

No Supabase SQL Editor, execute:

```sql
-- Criar tabela de exemplo
create table todos (
  id bigint generated by default as identity primary key,
  title text not null,
  is_complete boolean default false,
  user_id uuid references auth.users not null,
  created_at timestamp with time zone default timezone('utc'::text, now()) not null
);

-- Habilitar RLS (Row Level Security)
alter table todos enable row level security;

-- PolÃ­ticas: usuÃ¡rios sÃ³ veem seus prÃ³prios todos
create policy "Users can view own todos"
  on todos for select
  using (auth.uid() = user_id);

create policy "Users can insert own todos"
  on todos for insert
  with check (auth.uid() = user_id);

create policy "Users can update own todos"
  on todos for update
  using (auth.uid() = user_id);

create policy "Users can delete own todos"
  on todos for delete
  using (auth.uid() = user_id);
```

### 5ï¸âƒ£ Execute localmente

```bash
npm run dev
```

Acesse: `http://localhost:5173`

## ğŸš€ Deploy no Vercel (AutomÃ¡tico)

### Via Dashboard (Recomendado)

1. FaÃ§a push do seu cÃ³digo para o GitHub
2. Acesse [vercel.com/new](https://vercel.com/new)
3. Importe seu repositÃ³rio
4. Configure as **Environment Variables**:
   - `VITE_SUPABASE_URL`
   - `VITE_SUPABASE_ANON_KEY`
5. Clique em **Deploy**

âœ¨ **Pronto!** Cada push na branch `main` farÃ¡ deploy automÃ¡tico!

### Via Vercel CLI

```bash
npm i -g vercel
vercel
```

## ğŸ“± Recursos PWA

### InstalaÃ§Ã£o
Seu app pode ser instalado como PWA em:
- ğŸ“± Mobile (Android/iOS)
- ğŸ’» Desktop (Chrome, Edge, Safari)

### Offline First
O app funciona offline usando:
- **Service Worker** com Workbox
- **Cache Strategy**: Stale-While-Revalidate
- **Fallback** para pÃ¡ginas offline

### Manifest
ConfigurÃ¡vel em `public/manifest.json`

## ğŸ“ Estrutura do Projeto

```
pwa-starter-template/
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ icons/              # Ãcones PWA (192x192, 512x512)
â”‚   â”œâ”€â”€ manifest.json       # Web App Manifest
â”‚   â””â”€â”€ robots.txt
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/         # Componentes React
â”‚   â”‚   â”œâ”€â”€ ProtectedRoute.tsx
â”‚   â”‚   â””â”€â”€ NewTodo.tsx
â”‚   â”œâ”€â”€ context/            # React Context
â”‚   â”‚   â””â”€â”€ SessionContext.tsx
â”‚   â”œâ”€â”€ hooks/              # Custom hooks
â”‚   â”‚   â””â”€â”€ useSession.ts
â”‚   â”œâ”€â”€ pages/              # PÃ¡ginas da aplicaÃ§Ã£o
â”‚   â”‚   â”œâ”€â”€ HomePage.tsx
â”‚   â”‚   â”œâ”€â”€ LoginPage.tsx
â”‚   â”‚   â”œâ”€â”€ DashboardPage.tsx
â”‚   â”‚   â””â”€â”€ OfflinePage.tsx
â”‚   â”œâ”€â”€ services/           # ConfiguraÃ§Ã£o de serviÃ§os
â”‚   â”‚   â””â”€â”€ supabase.ts
â”‚   â”œâ”€â”€ App.tsx             # Componente raiz
â”‚   â”œâ”€â”€ main.tsx            # Entry point
â”‚   â””â”€â”€ index.css           # Estilos globais
â”œâ”€â”€ .env.example            # Exemplo de variÃ¡veis
â”œâ”€â”€ vite.config.ts          # Config Vite + PWA
â”œâ”€â”€ tailwind.config.js      # Config Tailwind
â””â”€â”€ vercel.json             # Config Vercel
```

## ğŸ” AutenticaÃ§Ã£o

### Login/Registro

```tsx
import { supabase } from './services/supabase'

// Email/Password
const { data, error } = await supabase.auth.signUp({
  email: 'user@example.com',
  password: 'senha123'
})

// Login
const { data, error } = await supabase.auth.signInWithPassword({
  email: 'user@example.com',
  password: 'senha123'
})

// OAuth (Google, GitHub, etc)
const { data, error } = await supabase.auth.signInWithOAuth({
  provider: 'google'
})
```

### Usar sessÃ£o

```tsx
import { useSession } from './hooks/useSession'

function Component() {
  const { session, user } = useSession()
  
  return <div>OlÃ¡ {user?.email}</div>
}
```

## ğŸ› ï¸ Tecnologias

- [Vite](https://vitejs.dev/) - Build tool
- [React 18](https://react.dev/) - UI Framework
- [TypeScript](https://www.typescriptlang.org/) - Type safety
- [Supabase](https://supabase.com/) - Backend as a Service
- [Tailwind CSS](https://tailwindcss.com/) - CSS Framework
- [vite-plugin-pwa](https://vite-pwa-org.netlify.app/) - PWA Plugin
- [Workbox](https://developer.chrome.com/docs/workbox/) - Service Worker
- [React Router](https://reactrouter.com/) - Routing

## ğŸ“ Scripts DisponÃ­veis

```bash
npm run dev      # Inicia servidor de desenvolvimento
npm run build    # Build de produÃ§Ã£o
npm run preview  # Preview do build
npm run lint     # Linter ESLint
```

## ğŸ¨ CustomizaÃ§Ã£o

### Cores e Tema
Edite `tailwind.config.js` e `src/index.css`

### PWA Icons
Substitua os Ã­cones em `public/icons/`
- `icon-192x192.png`
- `icon-512x512.png`

### Manifest
Edite `public/manifest.json` com nome, descriÃ§Ã£o, cores do seu app

## ğŸ”§ Troubleshooting

### Erro: "supabaseUrl and supabaseKey required"
âœ… Verifique se `.env.local` estÃ¡ configurado corretamente

### PWA nÃ£o estÃ¡ instalando
âœ… Rode `npm run build` e teste em produÃ§Ã£o
âœ… PWA sÃ³ funciona com HTTPS (Vercel jÃ¡ tem)

### Deploy falhou no Vercel
âœ… Verifique se as environment variables estÃ£o configuradas
âœ… Certifique-se que o build local funciona: `npm run build`

## ğŸ“š Recursos

- [DocumentaÃ§Ã£o Supabase](https://supabase.com/docs)
- [DocumentaÃ§Ã£o Vite PWA](https://vite-pwa-org.netlify.app/)
- [DocumentaÃ§Ã£o Vercel](https://vercel.com/docs)
- [Web.dev PWA Guide](https://web.dev/progressive-web-apps/)

## ğŸ¤ Contribuindo

ContribuiÃ§Ãµes sÃ£o bem-vindas! Abra uma issue ou PR.

## ğŸ“„ LicenÃ§a

MIT License - sinta-se livre para usar em seus projetos!

---

**Feito com â¤ï¸ para a comunidade dev brasileira** ğŸ‡§ğŸ‡·
